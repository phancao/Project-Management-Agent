2025-11-03 13:20:05,000 - __main__ - INFO - Starting DeerFlow API server on localhost:8000
2025-11-03 13:20:05,000 - __main__ - INFO - Log level: INFO
2025-11-03 13:20:06,590 - src.graph.checkpoint - WARNING - Checkpoint saver is disabled
2025-11-03 13:20:06,616 - src.server.app - INFO - Allowed origins: ['http://localhost:3000']
INFO:     Started server process [10480]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://localhost:8000 (Press CTRL+C to quit)
2025-11-03 13:20:10,316 - src.conversation.flow_manager - INFO - LLM-based intent classifier initialized
2025-11-03 13:20:10,316 - src.conversation.flow_manager - INFO - LLM-based data extractor initialized
2025-11-03 13:20:10,321 - src.conversation.flow_manager - INFO - PM Provider initialized: OpenProjectProvider
2025-11-03 13:20:10,383 - src.conversation.flow_manager - INFO - Self-learning system initialized
2025-11-03 13:20:10,383 - src.server.app - INFO - Created global ConversationFlowManager singleton
INFO:     ::1:57748 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:20:10,387 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:20:10,387 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:20:13,779 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:13,792 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.40s
2025-11-03 13:20:13,792 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will clear all Estimated Time Allocations (ETA) for the user's tasks.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve all tasks assigned to the user to identify which ETAs need to be cleared.",
      "requires_context": false
    },
    {
      "step_type": "update_task",
      "title": "Clear ETA for Each Task",
      "description": "Remove ETA information for each task assigned to the user after identifying the tasks.",
      "requires_context": true
    }
  ]
}
2025-11-03 13:20:13,793 - src.conversation.flow_manager - INFO - Generated PM plan with 2 steps in 3.41s
2025-11-03 13:20:13,793 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.41s
2025-11-03 13:20:13,793 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.41s
2025-11-03 13:20:13,793 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.41s
2025-11-03 13:20:13,793 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.41s
2025-11-03 13:20:14,454 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:14,456 - src.conversation.flow_manager - WARNING - Could not find JSON in LLM response: null
2025-11-03 13:20:14,456 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:20:14,456 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:20:14,457 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:20:20,779 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:20,780 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 6.32s
2025-11-03 13:20:20,780 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user wants to clear all ETA values. I will proceed to update each task's ETA to empty or default.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me to identify tasks with ETA that need to be cleared.",
      "requires_context": false
    },
    {
      "step_type": "update_task",
      "title": "Clear ETA for Each Task",
      "description": "Update each identified task to clear the ETA values.",
      "requires_context": true
    }
  ]
}
2025-11-03 13:20:20,780 - src.conversation.flow_manager - INFO - Generated PM plan with 2 steps in 6.32s
2025-11-03 13:20:20,780 - src.conversation.flow_manager - INFO - Generated PM plan with 2 steps
2025-11-03 13:20:20,780 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:20:20,781 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:20:20,781 - src.conversation.flow_manager - INFO - [TIMING] Plan has 2 steps - 0.00s
2025-11-03 13:20:20,781 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/2: List My Assigned Tasks - 0.00s
2025-11-03 13:20:20,781 - src.conversation.flow_manager - INFO - Executing PM step: list_my_tasks
2025-11-03 13:20:21,739 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:21,752 - src.conversation.flow_manager - INFO - Extracted data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:20:21,752 - src.conversation.flow_manager - INFO - Extracted list_my_tasks data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:20:21,752 - src.conversation.flow_manager - INFO - Handling LIST_MY_TASKS intent
2025-11-03 13:20:21,809 - src.conversation.flow_manager - INFO - Using current user from API key: OpenProject Admin (ID: 4)
2025-11-03 13:20:21,809 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"assignee": {"operator": "=", "values": ["4"]}}]'}
2025-11-03 13:20:21,961 - src.conversation.flow_manager - INFO - Calculated total hours: 0.0 from 20 tasks
2025-11-03 13:20:21,989 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 1.21s - 1.21s total
2025-11-03 13:20:21,989 - src.conversation.flow_manager - INFO - [TIMING] Executing step 2/2: Clear ETA for Each Task - 1.21s
2025-11-03 13:20:21,989 - src.conversation.flow_manager - INFO - Executing PM step: update_task
2025-11-03 13:20:23,526 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:23,544 - src.conversation.flow_manager - INFO - Extracted data: {'task_id': None, 'task_title': None, 'new_title': None, 'new_status': None, 'new_priority': None, 'new_estimated_hours': 0, 'new_description': None}
2025-11-03 13:20:23,544 - src.conversation.flow_manager - INFO - Extracted update_task data: {'task_id': None, 'task_title': None, 'new_title': None, 'new_status': None, 'new_priority': None, 'new_estimated_hours': 0, 'new_description': None}
2025-11-03 13:20:23,544 - src.conversation.flow_manager - INFO - Handling UPDATE_TASK intent
2025-11-03 13:20:23,544 - src.conversation.flow_manager - INFO - Handling bulk ETA deletion
2025-11-03 13:20:23,579 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"assignee": {"operator": "=", "values": ["4"]}}]'}
2025-11-03 13:20:23,704 - src.conversation.flow_manager - INFO - [TIMING] Step 2 completed in 1.71s - 2.92s total
2025-11-03 13:20:23,704 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 9.91s
2025-11-03 13:20:23,704 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 13.32s
INFO:     ::1:57770 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:20:35,328 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:20:35,328 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:20:35,328 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:20:38,292 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:38,307 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.98s
2025-11-03 13:20:38,307 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user wants to see their tasks again after a previous operation. I will list all their assigned tasks.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me",
      "requires_context": false
    }
  ]
}
2025-11-03 13:20:38,307 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.98s
2025-11-03 13:20:38,307 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.98s
2025-11-03 13:20:38,307 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.98s
2025-11-03 13:20:38,307 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.98s
2025-11-03 13:20:38,307 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.98s
2025-11-03 13:20:38,307 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:20:39,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:39,864 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:20:39,864 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:20:39,864 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:20:39,864 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:20:43,057 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:43,070 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.21s
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user wants to see their tasks again after previous operations. I will list all their assigned tasks.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me across all projects",
      "requires_context": false
    }
  ]
}
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 3.21s
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: List My Assigned Tasks - 0.00s
2025-11-03 13:20:43,071 - src.conversation.flow_manager - INFO - Executing PM step: list_my_tasks
2025-11-03 13:20:44,087 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:20:44,099 - src.conversation.flow_manager - INFO - Extracted data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:20:44,099 - src.conversation.flow_manager - INFO - Extracted list_my_tasks data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:20:44,099 - src.conversation.flow_manager - INFO - Handling LIST_MY_TASKS intent
2025-11-03 13:20:44,124 - src.conversation.flow_manager - INFO - Using current user from API key: OpenProject Admin (ID: 4)
2025-11-03 13:20:44,125 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"assignee": {"operator": "=", "values": ["4"]}}]'}
2025-11-03 13:20:44,262 - src.conversation.flow_manager - INFO - Calculated total hours: 0.0 from 20 tasks
2025-11-03 13:20:44,292 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 1.22s - 1.22s total
2025-11-03 13:20:44,292 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.99s
2025-11-03 13:20:44,293 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 8.97s
INFO:     ::1:58751 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:10,203 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:10,203 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:12,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:12,847 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.64s
2025-11-03 13:40:12,847 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will retrieve and display all tasks that are assigned to you.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me",
      "requires_context": false
    }
  ]
}
2025-11-03 13:40:12,847 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.64s
2025-11-03 13:40:12,847 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.64s
2025-11-03 13:40:12,847 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.64s
2025-11-03 13:40:12,847 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.64s
2025-11-03 13:40:12,847 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.64s
2025-11-03 13:40:13,728 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:13,730 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:40:13,730 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:40:13,730 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:13,730 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:40:16,371 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.64s
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user wants to see their tasks again after previous operation. I will list all their assigned tasks.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me across all projects",
      "requires_context": false
    }
  ]
}
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.64s
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:40:16,372 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: List My Assigned Tasks - 0.00s
2025-11-03 13:40:16,373 - src.conversation.flow_manager - INFO - Executing PM step: list_my_tasks
2025-11-03 13:40:17,455 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:17,456 - src.conversation.flow_manager - INFO - Extracted data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:40:17,456 - src.conversation.flow_manager - INFO - Extracted list_my_tasks data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:40:17,456 - src.conversation.flow_manager - INFO - Handling LIST_MY_TASKS intent
2025-11-03 13:40:17,500 - src.conversation.flow_manager - INFO - Using current user from API key: OpenProject Admin (ID: 4)
2025-11-03 13:40:17,500 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"assignee": {"operator": "=", "values": ["4"]}}]'}
2025-11-03 13:40:17,635 - src.conversation.flow_manager - INFO - Calculated total hours: 0.0 from 20 tasks
2025-11-03 13:40:17,680 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 1.31s - 1.31s total
2025-11-03 13:40:17,680 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.83s
2025-11-03 13:40:17,680 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.48s
INFO:     ::1:58774 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:24,604 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:24,604 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:26,412 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:26,421 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.82s
2025-11-03 13:40:26,421 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user sent a test message, and no specific action is required.",
  "steps": []
}
2025-11-03 13:40:26,421 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.82s
2025-11-03 13:40:26,421 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.82s
2025-11-03 13:40:26,421 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.82s
2025-11-03 13:40:26,421 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.82s
2025-11-03 13:40:26,422 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.82s
2025-11-03 13:40:26,961 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:26,963 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:40:26,963 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:40:26,963 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:26,963 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:40:28,264 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:28,268 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.31s
2025-11-03 13:40:28,268 - src.conversation.flow_manager - INFO - PM plan LLM response: ```json
{
  "locale": "en-US",
  "overall_thought": "This is a test message without any actionable tasks.",
  "steps": []
}
```
2025-11-03 13:40:28,268 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.31s
2025-11-03 13:40:28,268 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:40:28,863 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:28,875 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:40:28,920 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:40:30,211 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:30,212 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None}
2025-11-03 13:40:30,212 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:40:30,212 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:40:30,212 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:40:30,212 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:40:30,212 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 3.79s
2025-11-03 13:40:30,213 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.61s
INFO:     ::1:58786 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:30,742 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:30,742 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:30,742 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:40:33,830 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:33,832 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.09s
2025-11-03 13:40:33,832 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "Testing response to messages from the user.",
  "steps": []
}
2025-11-03 13:40:33,832 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 3.09s
2025-11-03 13:40:33,832 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.09s
2025-11-03 13:40:33,832 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.09s
2025-11-03 13:40:33,832 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.09s
2025-11-03 13:40:33,832 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.09s
2025-11-03 13:40:33,832 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:40:38,256 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:38,260 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:38,260 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:38,260 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:38,260 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:40:40,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:40,041 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.78s
2025-11-03 13:40:40,042 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks identified in the user's messages, only test messages.",
  "steps": []
}
2025-11-03 13:40:40,042 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.78s
2025-11-03 13:40:40,042 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:40:40,590 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:40,592 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:40:40,596 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:40:41,255 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:41,256 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:40:41,256 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:40:41,256 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:40:41,256 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:40:41,256 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:40:41,257 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 7.42s
2025-11-03 13:40:41,257 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 10.51s
INFO:     ::1:58798 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:41,795 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:41,796 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:41,796 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:40:43,306 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:43,308 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.51s
2025-11-03 13:40:43,308 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The messages appear to be testing the response functionality with no specific project management tasks mentioned.",
  "steps": []
}
2025-11-03 13:40:43,309 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.51s
2025-11-03 13:40:43,309 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.51s
2025-11-03 13:40:43,309 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.51s
2025-11-03 13:40:43,309 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.51s
2025-11-03 13:40:43,309 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.51s
2025-11-03 13:40:43,309 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:40:44,764 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:44,768 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:44,769 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:44,769 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:44,769 - src.conversation.flow_manager - INFO - Selected 3/3 messages for context
2025-11-03 13:40:47,604 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:47,607 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.84s
2025-11-03 13:40:47,607 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "There are no actionable project management tasks in the provided messages. Awaiting clear requests.",
  "steps": []
}
2025-11-03 13:40:47,607 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.84s
2025-11-03 13:40:47,607 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:40:48,256 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:48,260 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:40:48,264 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:40:48,768 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:48,778 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:40:48,779 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:40:48,779 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:40:48,779 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:40:48,779 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:40:48,779 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.47s
2025-11-03 13:40:48,779 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.98s
INFO:     ::1:58801 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:49,305 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:49,305 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:49,305 - src.conversation.flow_manager - INFO - Selected 3/3 messages for context
2025-11-03 13:40:51,746 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:51,759 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.45s
2025-11-03 13:40:51,759 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks from user messages. Awaiting further instructions.",
  "steps": []
}
2025-11-03 13:40:51,759 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.45s
2025-11-03 13:40:51,759 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.45s
2025-11-03 13:40:51,759 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.45s
2025-11-03 13:40:51,760 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.46s
2025-11-03 13:40:51,760 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.46s
2025-11-03 13:40:51,761 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:40:52,931 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:52,933 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:52,933 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:40:52,933 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:52,933 - src.conversation.flow_manager - INFO - Selected 4/4 messages for context
2025-11-03 13:40:54,794 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:54,798 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.87s
2025-11-03 13:40:54,798 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages. No actionable tasks to execute.",
  "steps": []
}
2025-11-03 13:40:54,799 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.87s
2025-11-03 13:40:54,799 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:40:55,329 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:55,333 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:40:55,339 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:40:56,839 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:56,841 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:40:56,841 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:40:56,841 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:40:56,841 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:40:56,841 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:40:56,842 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.08s
2025-11-03 13:40:56,842 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.54s
INFO:     ::1:58804 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:40:57,375 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:40:57,375 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:40:57,375 - src.conversation.flow_manager - INFO - Selected 4/4 messages for context
2025-11-03 13:40:59,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:40:59,585 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.21s
2025-11-03 13:40:59,585 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages sequentially without requesting specific tasks.",
  "steps": []
}
2025-11-03 13:40:59,585 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.21s
2025-11-03 13:40:59,585 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.21s
2025-11-03 13:40:59,585 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.21s
2025-11-03 13:40:59,585 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.21s
2025-11-03 13:40:59,585 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.21s
2025-11-03 13:40:59,585 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:00,096 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:00,099 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:00,099 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:41:00,099 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:00,099 - src.conversation.flow_manager - INFO - Selected 5/5 messages for context
2025-11-03 13:41:01,328 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:01,331 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.23s
2025-11-03 13:41:01,331 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent several test messages. No actionable tasks are specified.",
  "steps": []
}
2025-11-03 13:41:01,331 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.23s
2025-11-03 13:41:01,331 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:01,915 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:01,929 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:01,935 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:03,272 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:03,277 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:03,277 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:03,277 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:03,277 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:03,277 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:03,277 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 3.69s
2025-11-03 13:41:03,278 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.90s
INFO:     ::1:58807 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:03,818 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:03,818 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:03,818 - src.conversation.flow_manager - INFO - Selected 5/5 messages for context
2025-11-03 13:41:05,659 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:05,662 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.84s
2025-11-03 13:41:05,662 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages without specific tasks. No action items to plan.",
  "steps": []
}
2025-11-03 13:41:05,662 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.84s
2025-11-03 13:41:05,662 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.84s
2025-11-03 13:41:05,662 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.84s
2025-11-03 13:41:05,663 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.84s
2025-11-03 13:41:05,663 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.85s
2025-11-03 13:41:05,663 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:07,280 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:07,285 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:07,285 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:07,285 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:07,285 - src.conversation.flow_manager - INFO - Selected 6/6 messages for context
2025-11-03 13:41:09,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:09,132 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.85s
2025-11-03 13:41:09,133 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user seems to be sending test messages. No specific action is requested.",
  "steps": []
}
2025-11-03 13:41:09,133 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.85s
2025-11-03 13:41:09,133 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:09,607 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:09,611 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:09,617 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:12,732 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:12,737 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:12,738 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:12,738 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:12,738 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:12,738 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:12,738 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 7.08s
2025-11-03 13:41:12,738 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 8.92s
INFO:     ::1:58905 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:13,262 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:13,262 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:13,262 - src.conversation.flow_manager - INFO - Selected 6/6 messages for context
2025-11-03 13:41:17,216 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:17,218 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.96s
2025-11-03 13:41:17,218 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No specific tasks were communicated. Please provide a clear task or request.",
  "steps": []
}
2025-11-03 13:41:17,218 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 3.96s
2025-11-03 13:41:17,218 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.96s
2025-11-03 13:41:17,218 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.96s
2025-11-03 13:41:17,218 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.96s
2025-11-03 13:41:17,218 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.96s
2025-11-03 13:41:17,218 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:18,429 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:18,432 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:18,432 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:18,432 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:18,432 - src.conversation.flow_manager - INFO - Selected 7/7 messages for context
2025-11-03 13:41:19,964 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:19,967 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.53s
2025-11-03 13:41:19,967 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were provided in the messages; all messages seem to be tests.",
  "steps": []
}
2025-11-03 13:41:19,967 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.53s
2025-11-03 13:41:19,967 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:20,461 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:20,464 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:20,469 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:21,191 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:21,219 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:21,219 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:21,219 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:21,219 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:21,219 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:21,219 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.00s
2025-11-03 13:41:21,219 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.96s
INFO:     ::1:58910 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:21,744 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:21,744 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:21,744 - src.conversation.flow_manager - INFO - Selected 7/7 messages for context
2025-11-03 13:41:22,957 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:22,959 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.22s
2025-11-03 13:41:22,960 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages. No actionable tasks identified.",
  "steps": []
}
2025-11-03 13:41:22,960 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.22s
2025-11-03 13:41:22,960 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.22s
2025-11-03 13:41:22,960 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.22s
2025-11-03 13:41:22,960 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.22s
2025-11-03 13:41:22,960 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.22s
2025-11-03 13:41:22,960 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:24,356 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:24,367 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:24,367 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:24,367 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:24,367 - src.conversation.flow_manager - INFO - Selected 8/8 messages for context
2025-11-03 13:41:26,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:26,122 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.75s
2025-11-03 13:41:26,122 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages, but no actionable tasks were identified to create a plan.",
  "steps": []
}
2025-11-03 13:41:26,122 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.76s
2025-11-03 13:41:26,122 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:26,836 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:26,839 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:26,844 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:27,538 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:27,539 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:27,539 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:27,539 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:27,539 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:27,540 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:27,540 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.58s
2025-11-03 13:41:27,540 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.80s
INFO:     ::1:58913 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:28,063 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:28,063 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:28,063 - src.conversation.flow_manager - INFO - Selected 8/8 messages for context
2025-11-03 13:41:29,881 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:29,884 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.82s
2025-11-03 13:41:29,884 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "User has sent a series of test messages, indicating a need for testing system responses.",
  "steps": []
}
2025-11-03 13:41:29,884 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.82s
2025-11-03 13:41:29,884 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.82s
2025-11-03 13:41:29,884 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.82s
2025-11-03 13:41:29,884 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.82s
2025-11-03 13:41:29,885 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.82s
2025-11-03 13:41:29,885 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:31,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:31,125 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:31,125 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:31,125 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:31,125 - src.conversation.flow_manager - INFO - Selected 9/9 messages for context
2025-11-03 13:41:33,374 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:33,377 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.25s
2025-11-03 13:41:33,377 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "User has sent a series of test messages without any specific tasks or requests. No actionable steps can be determined.",
  "steps": []
}
2025-11-03 13:41:33,377 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.25s
2025-11-03 13:41:33,377 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:34,098 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:34,099 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:34,105 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:35,683 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:35,695 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:35,696 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:35,696 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:35,696 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:35,696 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:35,696 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.81s
2025-11-03 13:41:35,696 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.63s
INFO:     ::1:58916 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:36,220 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:36,220 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:36,220 - src.conversation.flow_manager - INFO - Selected 9/9 messages for context
2025-11-03 13:41:37,943 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:37,944 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.72s
2025-11-03 13:41:37,944 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages. No specific tasks have been identified to form an execution plan.",
  "steps": []
}
2025-11-03 13:41:37,944 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.72s
2025-11-03 13:41:37,944 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.72s
2025-11-03 13:41:37,944 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.72s
2025-11-03 13:41:37,944 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.72s
2025-11-03 13:41:37,944 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.72s
2025-11-03 13:41:37,944 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:41:39,940 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:39,943 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:39,943 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:41:39,943 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:39,943 - src.conversation.flow_manager - INFO - Selected 10/10 messages for context
2025-11-03 13:41:43,055 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:43,058 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.11s
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were identified in the test messages.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Messages",
      "description": "The provided messages do not contain any identifiable or actionable tasks.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 3.12s
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Test Messages - 0.00s
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:41:43,059 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Test Messages
2025-11-03 13:41:43,059 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:41:43,059 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.11s
2025-11-03 13:41:43,060 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.84s
INFO:     ::1:58926 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:50,288 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:50,288 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:53,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:53,033 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.74s
2025-11-03 13:41:53,033 - src.conversation.flow_manager - INFO - PM plan LLM response: ```json
{
  "locale": "en-US",
  "overall_thought": "The message appears to be a test input without actionable content or context.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Message",
      "description": "The input does not specify any project management action or request.",
      "requires_context": false
    }
  ]
}
```
2025-11-03 13:41:53,033 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.74s
2025-11-03 13:41:53,033 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.74s
2025-11-03 13:41:53,033 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.74s
2025-11-03 13:41:53,033 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.74s
2025-11-03 13:41:53,033 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.74s
2025-11-03 13:41:53,498 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:53,501 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:53,501 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:41:53,501 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:53,502 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:41:54,658 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:54,664 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.16s
2025-11-03 13:41:54,664 - src.conversation.flow_manager - INFO - PM plan LLM response: ```json
{
  "locale": "en-US",
  "overall_thought": "This is a test message without a specific project management request.",
  "steps": []
}
```
2025-11-03 13:41:54,664 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.16s
2025-11-03 13:41:54,664 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:41:55,231 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:55,237 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:41:55,243 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:41:58,465 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:41:58,468 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:41:58,468 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:41:58,468 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:41:58,468 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:41:58,468 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:41:58,468 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.43s
2025-11-03 13:41:58,468 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 8.18s
INFO:     ::1:58937 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:41:58,706 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:41:58,706 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:41:58,706 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:42:00,179 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:00,183 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.48s
2025-11-03 13:42:00,183 - src.conversation.flow_manager - INFO - PM plan LLM response: ```json
{
  "locale": "en-US",
  "overall_thought": "No actionable project management tasks were identified in the test messages.",
  "steps": []
}
```
2025-11-03 13:42:00,183 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.48s
2025-11-03 13:42:00,183 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.48s
2025-11-03 13:42:00,183 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.48s
2025-11-03 13:42:00,183 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.48s
2025-11-03 13:42:00,183 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.48s
2025-11-03 13:42:00,183 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:01,677 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:01,680 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:01,680 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:01,680 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:01,680 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:42:02,900 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:02,927 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.25s
2025-11-03 13:42:02,928 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This is a test message sequence without actionable tasks.",
  "steps": []
}
2025-11-03 13:42:02,928 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.25s
2025-11-03 13:42:02,928 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:03,482 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:03,485 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:03,490 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:04,914 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:04,917 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:04,917 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:04,917 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:04,917 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:04,917 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:04,917 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.73s
2025-11-03 13:42:04,917 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.21s
INFO:     ::1:58941 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:05,149 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:05,150 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:05,150 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:42:06,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:06,712 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.56s
2025-11-03 13:42:06,712 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages. No actionable tasks identified.",
  "steps": []
}
2025-11-03 13:42:06,712 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.56s
2025-11-03 13:42:06,712 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.56s
2025-11-03 13:42:06,712 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.56s
2025-11-03 13:42:06,712 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.56s
2025-11-03 13:42:06,712 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.56s
2025-11-03 13:42:06,712 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:08,170 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:08,178 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:08,179 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:08,179 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:08,179 - src.conversation.flow_manager - INFO - Selected 3/3 messages for context
2025-11-03 13:42:09,540 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:09,544 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.36s
2025-11-03 13:42:09,544 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I received test messages from the user, but there are no actionable tasks to execute.",
  "steps": []
}
2025-11-03 13:42:09,544 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.36s
2025-11-03 13:42:09,544 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:10,139 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:10,143 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:10,150 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:10,751 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:10,773 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:42:10,773 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:10,774 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:10,774 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:10,774 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:10,774 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.06s
2025-11-03 13:42:10,775 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.63s
INFO:     ::1:58960 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:11,003 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:11,003 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:11,003 - src.conversation.flow_manager - INFO - Selected 3/3 messages for context
2025-11-03 13:42:12,461 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:12,470 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.47s
2025-11-03 13:42:12,470 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages for validation or confirmation. No actionable tasks identified.",
  "steps": []
}
2025-11-03 13:42:12,470 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.47s
2025-11-03 13:42:12,470 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.47s
2025-11-03 13:42:12,470 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.47s
2025-11-03 13:42:12,470 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.47s
2025-11-03 13:42:12,470 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.47s
2025-11-03 13:42:12,470 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:14,131 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:14,136 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:14,137 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:14,137 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:14,137 - src.conversation.flow_manager - INFO - Selected 4/4 messages for context
2025-11-03 13:42:16,207 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:16,228 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.09s
2025-11-03 13:42:16,229 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The conversation consists of test messages without specific project management requests. No actionable steps can be derived.",
  "steps": []
}
2025-11-03 13:42:16,229 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.09s
2025-11-03 13:42:16,229 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:16,883 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:16,887 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:16,892 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:17,366 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:17,370 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:42:17,370 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:17,370 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:17,370 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:17,370 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:17,370 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.90s
2025-11-03 13:42:17,371 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.37s
INFO:     ::1:58963 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:17,601 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:17,601 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:17,602 - src.conversation.flow_manager - INFO - Selected 4/4 messages for context
2025-11-03 13:42:19,879 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:19,882 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.28s
2025-11-03 13:42:19,882 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This conversation does not contain project management tasks requiring an execution plan.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "No Action Required",
      "description": "The messages do not contain actionable project management tasks.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:42:19,882 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.28s
2025-11-03 13:42:19,882 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.28s
2025-11-03 13:42:19,882 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.28s
2025-11-03 13:42:19,882 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.28s
2025-11-03 13:42:19,882 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.28s
2025-11-03 13:42:19,882 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:21,734 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:21,736 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:21,736 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:21,736 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:21,737 - src.conversation.flow_manager - INFO - Selected 5/5 messages for context
2025-11-03 13:42:26,832 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:26,904 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 5.17s
2025-11-03 13:42:26,904 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were identified in the test messages. This response is simply to acknowledge the input.",
  "steps": []
}
2025-11-03 13:42:26,904 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 5.17s
2025-11-03 13:42:26,904 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:27,391 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:27,392 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:27,395 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:28,193 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:28,202 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:42:28,202 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:28,202 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:28,202 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:28,202 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:28,202 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 8.32s
2025-11-03 13:42:28,203 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 10.60s
INFO:     ::1:58966 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:28,428 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:28,428 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:28,429 - src.conversation.flow_manager - INFO - Selected 5/5 messages for context
2025-11-03 13:42:30,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:30,008 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.58s
2025-11-03 13:42:30,008 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user seems to be sending test messages with no actionable requests. I will note that for future reference.",
  "steps": []
}
2025-11-03 13:42:30,009 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.58s
2025-11-03 13:42:30,009 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.58s
2025-11-03 13:42:30,009 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.58s
2025-11-03 13:42:30,009 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.58s
2025-11-03 13:42:30,009 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.58s
2025-11-03 13:42:30,009 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:31,855 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:31,857 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:31,857 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:31,857 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:31,857 - src.conversation.flow_manager - INFO - Selected 6/6 messages for context
2025-11-03 13:42:33,208 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:33,213 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.36s
2025-11-03 13:42:33,213 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages. There are no actionable tasks identified from the conversation.",
  "steps": []
}
2025-11-03 13:42:33,213 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.36s
2025-11-03 13:42:33,213 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:33,683 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:33,685 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:33,690 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:35,871 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:35,883 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:35,883 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:35,883 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:35,883 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:35,883 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:35,883 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.87s
2025-11-03 13:42:35,883 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.46s
INFO:     ::1:58969 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:36,112 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:36,113 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:36,113 - src.conversation.flow_manager - INFO - Selected 6/6 messages for context
2025-11-03 13:42:37,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:37,512 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.40s
2025-11-03 13:42:37,512 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending test messages without specific requests or tasks.",
  "steps": []
}
2025-11-03 13:42:37,512 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.40s
2025-11-03 13:42:37,512 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.40s
2025-11-03 13:42:37,512 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.40s
2025-11-03 13:42:37,512 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.40s
2025-11-03 13:42:37,512 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.40s
2025-11-03 13:42:37,512 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:38,406 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:38,407 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:42:38,407 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:42:38,407 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:38,408 - src.conversation.flow_manager - INFO - Selected 7/7 messages for context
2025-11-03 13:42:40,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:40,706 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.30s
2025-11-03 13:42:40,706 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has submitted several test messages without specific project management tasks. I'll provide a generic acknowledgment response.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Generic Test Messages",
      "description": "The user has sent test messages with no defined tasks. No project management actions can be performed.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:42:40,706 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.30s
2025-11-03 13:42:40,706 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Generic Test Messages - 0.00s
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:42:40,707 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Generic Test Messages
2025-11-03 13:42:40,707 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:42:40,707 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 3.19s
2025-11-03 13:42:40,707 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 4.59s
INFO:     ::1:58979 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:40,944 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:40,944 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:40,944 - src.conversation.flow_manager - INFO - Selected 7/7 messages for context
2025-11-03 13:42:42,319 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:42,330 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.39s
2025-11-03 13:42:42,331 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages. No actionable project management tasks are identified.",
  "steps": []
}
2025-11-03 13:42:42,331 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.39s
2025-11-03 13:42:42,331 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.39s
2025-11-03 13:42:42,331 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.39s
2025-11-03 13:42:42,331 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.39s
2025-11-03 13:42:42,331 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.39s
2025-11-03 13:42:42,331 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:44,240 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:44,244 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:44,244 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:44,244 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:44,244 - src.conversation.flow_manager - INFO - Selected 8/8 messages for context
2025-11-03 13:42:45,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:45,996 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.75s
2025-11-03 13:42:45,997 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent multiple test messages, but there are no actionable tasks to execute.",
  "steps": []
}
2025-11-03 13:42:45,997 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.75s
2025-11-03 13:42:45,997 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:46,797 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:46,798 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:46,803 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:48,442 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:48,445 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:42:48,445 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:48,445 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:48,445 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:48,445 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:48,445 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 6.11s
2025-11-03 13:42:48,446 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.50s
INFO:     ::1:58989 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:48,679 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:48,679 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:48,680 - src.conversation.flow_manager - INFO - Selected 8/8 messages for context
2025-11-03 13:42:49,975 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:49,977 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.30s
2025-11-03 13:42:49,977 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "User is sending a series of test messages, no specific actionable task identified.",
  "steps": []
}
2025-11-03 13:42:49,977 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.30s
2025-11-03 13:42:49,977 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.30s
2025-11-03 13:42:49,977 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.30s
2025-11-03 13:42:49,977 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.30s
2025-11-03 13:42:49,978 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.30s
2025-11-03 13:42:49,978 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:51,684 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:51,685 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:51,685 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:51,685 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:51,685 - src.conversation.flow_manager - INFO - Selected 9/9 messages for context
2025-11-03 13:42:53,064 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:53,069 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.38s
2025-11-03 13:42:53,069 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages without a specific request or task.",
  "steps": []
}
2025-11-03 13:42:53,069 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.38s
2025-11-03 13:42:53,069 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:42:53,671 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:53,672 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:42:53,675 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:42:55,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:55,333 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'tasks': None}
2025-11-03 13:42:55,333 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:42:55,333 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:42:55,333 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:42:55,333 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:42:55,333 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.36s
2025-11-03 13:42:55,333 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.65s
INFO:     ::1:58992 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:42:55,557 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:42:55,557 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:55,557 - src.conversation.flow_manager - INFO - Selected 9/9 messages for context
2025-11-03 13:42:57,010 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:57,013 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.46s
2025-11-03 13:42:57,013 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This is a sequence of test messages without actionable requests.",
  "steps": []
}
2025-11-03 13:42:57,013 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.46s
2025-11-03 13:42:57,013 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.46s
2025-11-03 13:42:57,013 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.46s
2025-11-03 13:42:57,013 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.46s
2025-11-03 13:42:57,013 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.46s
2025-11-03 13:42:57,013 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:42:58,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:42:58,741 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:58,741 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:42:58,741 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:42:58,741 - src.conversation.flow_manager - INFO - Selected 10/10 messages for context
2025-11-03 13:43:00,782 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:00,788 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.05s
2025-11-03 13:43:00,788 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were provided in the messages. This is a test conversation with no project management inputs.",
  "steps": []
}
2025-11-03 13:43:00,788 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.05s
2025-11-03 13:43:00,788 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:01,441 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:01,444 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:01,447 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:03,082 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:03,086 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:03,086 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:03,086 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:03,086 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:03,086 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:03,086 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 6.07s
2025-11-03 13:43:03,086 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.53s
INFO:     ::1:58995 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:03,316 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:03,316 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:03,316 - src.conversation.flow_manager - INFO - Selected 10/10 messages for context
2025-11-03 13:43:04,577 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:04,581 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.26s
2025-11-03 13:43:04,581 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending a series of test messages. No actionable tasks or requests have been identified.",
  "steps": []
}
2025-11-03 13:43:04,581 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.27s
2025-11-03 13:43:04,581 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.27s
2025-11-03 13:43:04,581 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.27s
2025-11-03 13:43:04,581 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.27s
2025-11-03 13:43:04,581 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.27s
2025-11-03 13:43:04,581 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:05,964 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:05,967 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:05,967 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:05,967 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:05,967 - src.conversation.flow_manager - INFO - Selected 10/11 messages for context
2025-11-03 13:43:07,621 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:07,637 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.67s
2025-11-03 13:43:07,637 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user sent a sequence of test messages. No actions required as these do not pertain to project management tasks.",
  "steps": []
}
2025-11-03 13:43:07,637 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.67s
2025-11-03 13:43:07,637 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:08,137 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:08,138 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:08,141 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:09,366 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:09,370 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'tasks': None}
2025-11-03 13:43:09,370 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:09,370 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:09,370 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:09,370 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:09,370 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.79s
2025-11-03 13:43:09,370 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.05s
INFO:     ::1:59006 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:09,603 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:09,603 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:09,603 - src.conversation.flow_manager - INFO - Selected 10/11 messages for context
2025-11-03 13:43:10,976 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:10,979 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.38s
2025-11-03 13:43:10,980 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This conversation consists of a series of test messages without any specific actionable tasks.",
  "steps": []
}
2025-11-03 13:43:10,980 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.38s
2025-11-03 13:43:10,980 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.38s
2025-11-03 13:43:10,980 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.38s
2025-11-03 13:43:10,980 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.38s
2025-11-03 13:43:10,980 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.38s
2025-11-03 13:43:10,980 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:12,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:12,457 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:12,457 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:12,457 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:12,457 - src.conversation.flow_manager - INFO - Selected 10/12 messages for context
2025-11-03 13:43:13,977 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:13,984 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.53s
2025-11-03 13:43:13,984 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "User has sent multiple test messages. No actionable project management tasks identified.",
  "steps": []
}
2025-11-03 13:43:13,984 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.53s
2025-11-03 13:43:13,984 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:14,652 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:14,654 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:14,659 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:15,440 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:15,446 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:43:15,446 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:15,446 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:15,446 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:15,446 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:15,446 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.47s
2025-11-03 13:43:15,447 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.84s
INFO:     ::1:59010 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:15,682 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:15,682 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:15,682 - src.conversation.flow_manager - INFO - Selected 10/12 messages for context
2025-11-03 13:43:17,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:17,220 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.54s
2025-11-03 13:43:17,220 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I have received a series of test messages. No actionable tasks identified.",
  "steps": []
}
2025-11-03 13:43:17,221 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.54s
2025-11-03 13:43:17,221 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.54s
2025-11-03 13:43:17,221 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.54s
2025-11-03 13:43:17,221 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.54s
2025-11-03 13:43:17,221 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.54s
2025-11-03 13:43:17,221 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:19,101 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:19,115 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:19,115 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:19,115 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:19,116 - src.conversation.flow_manager - INFO - Selected 10/13 messages for context
2025-11-03 13:43:21,952 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:21,955 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.84s
2025-11-03 13:43:21,955 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is testing messages. Since there's no task or request specified, no actionable steps can be created.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Messages",
      "description": "The user's messages do not contain a discernible request or task. No steps can be executed.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:43:21,955 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.84s
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Test Messages - 0.00s
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:43:21,956 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Test Messages
2025-11-03 13:43:21,956 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:43:21,956 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.73s
2025-11-03 13:43:21,956 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.27s
INFO:     ::1:59011 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:22,184 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:22,184 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:22,184 - src.conversation.flow_manager - INFO - Selected 10/13 messages for context
2025-11-03 13:43:23,539 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:23,565 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.38s
2025-11-03 13:43:23,565 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were identified in the messages. Therefore, there's no execution plan to create.",
  "steps": []
}
2025-11-03 13:43:23,565 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.38s
2025-11-03 13:43:23,565 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.38s
2025-11-03 13:43:23,565 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.38s
2025-11-03 13:43:23,566 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.38s
2025-11-03 13:43:23,566 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.38s
2025-11-03 13:43:23,566 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:24,816 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:24,819 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:24,819 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:24,819 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:24,819 - src.conversation.flow_manager - INFO - Selected 10/14 messages for context
2025-11-03 13:43:26,942 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:26,944 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.12s
2025-11-03 13:43:26,944 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is testing various messages. There are no actionable project management tasks to execute.",
  "steps": []
}
2025-11-03 13:43:26,944 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 2.13s
2025-11-03 13:43:26,944 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:27,503 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:27,505 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:27,509 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:28,278 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:28,281 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:43:28,281 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:28,281 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:28,281 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:28,281 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:28,281 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.72s
2025-11-03 13:43:28,281 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.10s
INFO:     ::1:59014 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:28,519 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:28,519 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:28,519 - src.conversation.flow_manager - INFO - Selected 10/14 messages for context
2025-11-03 13:43:29,992 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:29,994 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.47s
2025-11-03 13:43:29,994 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending a series of test messages. There are no actionable project management tasks identified.",
  "steps": []
}
2025-11-03 13:43:29,994 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.47s
2025-11-03 13:43:29,994 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.47s
2025-11-03 13:43:29,994 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.47s
2025-11-03 13:43:29,994 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.48s
2025-11-03 13:43:29,994 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.48s
2025-11-03 13:43:29,994 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:31,345 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:31,353 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:31,353 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:31,353 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:31,353 - src.conversation.flow_manager - INFO - Selected 10/15 messages for context
2025-11-03 13:43:34,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:34,846 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.49s
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "These test messages do not contain any actionable tasks for project management. I will indicate that the input is unclear.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Messages",
      "description": "The test messages do not specify any project management tasks or requests.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 3.49s
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Test Messages - 0.00s
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:43:34,847 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Test Messages
2025-11-03 13:43:34,847 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:43:34,847 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.85s
2025-11-03 13:43:34,847 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.33s
INFO:     ::1:59015 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:35,071 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:35,071 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:35,071 - src.conversation.flow_manager - INFO - Selected 10/15 messages for context
2025-11-03 13:43:39,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:39,878 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 4.81s
2025-11-03 13:43:39,879 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This is a series of test messages without any specific project management tasks.",
  "steps": []
}
2025-11-03 13:43:39,879 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 4.81s
2025-11-03 13:43:39,879 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 4.81s
2025-11-03 13:43:39,879 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 4.81s
2025-11-03 13:43:39,879 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 4.81s
2025-11-03 13:43:39,879 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 4.81s
2025-11-03 13:43:39,879 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:40,543 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:40,550 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:43:40,550 - src.conversation.flow_manager - INFO - Extracted initial data: {}
2025-11-03 13:43:40,553 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:40,553 - src.conversation.flow_manager - INFO - Selected 10/16 messages for context
2025-11-03 13:43:42,000 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:42,002 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.45s
2025-11-03 13:43:42,002 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks or queries were provided. This conversation seems to test the system.",
  "steps": []
}
2025-11-03 13:43:42,002 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.45s
2025-11-03 13:43:42,002 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:42,486 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:42,496 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:42,500 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:44,639 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:44,640 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:44,640 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:44,640 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:44,641 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:44,641 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:44,641 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.76s
2025-11-03 13:43:44,641 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 9.57s
INFO:     ::1:59027 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:44,867 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:44,867 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:44,867 - src.conversation.flow_manager - INFO - Selected 10/16 messages for context
2025-11-03 13:43:46,198 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:46,201 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.33s
2025-11-03 13:43:46,201 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is testing the message system, no actionable project management tasks are specified.",
  "steps": []
}
2025-11-03 13:43:46,201 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.33s
2025-11-03 13:43:46,201 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.33s
2025-11-03 13:43:46,201 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.33s
2025-11-03 13:43:46,201 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.33s
2025-11-03 13:43:46,201 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.33s
2025-11-03 13:43:46,201 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:47,818 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:47,828 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:47,828 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:47,828 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:47,828 - src.conversation.flow_manager - INFO - Selected 10/17 messages for context
2025-11-03 13:43:49,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:49,310 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.48s
2025-11-03 13:43:49,310 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages. No actionable tasks were specified.",
  "steps": []
}
2025-11-03 13:43:49,310 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.48s
2025-11-03 13:43:49,310 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:49,879 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:49,883 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:49,890 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:43:51,324 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:51,337 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:51,337 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:43:51,337 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:43:51,337 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:43:51,337 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:43:51,337 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 5.14s
2025-11-03 13:43:51,338 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.47s
INFO:     ::1:59032 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:43:51,561 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:43:51,561 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:51,561 - src.conversation.flow_manager - INFO - Selected 10/17 messages for context
2025-11-03 13:43:55,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:55,163 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.60s
2025-11-03 13:43:55,164 - src.conversation.flow_manager - INFO - PM plan LLM response: ```json
{
  "locale": "en-US",
  "overall_thought": "Multiple test messages have been sent without specific project management requests.",
  "steps": []
}
```
2025-11-03 13:43:55,164 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 3.60s
2025-11-03 13:43:55,164 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.60s
2025-11-03 13:43:55,164 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.60s
2025-11-03 13:43:55,164 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.60s
2025-11-03 13:43:55,165 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.60s
2025-11-03 13:43:55,165 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:43:57,123 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:57,126 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:57,127 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:43:57,127 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:43:57,127 - src.conversation.flow_manager - INFO - Selected 10/18 messages for context
2025-11-03 13:43:58,939 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:58,952 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.83s
2025-11-03 13:43:58,953 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending a series of test messages. It appears there are no actionable tasks to process at this moment.",
  "steps": []
}
2025-11-03 13:43:58,953 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.83s
2025-11-03 13:43:58,953 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:43:59,692 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:43:59,696 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:43:59,700 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:01,401 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:01,409 - src.conversation.flow_manager - INFO - Extracted data: {'last_classification_id': None, 'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:01,409 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:01,409 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:01,409 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:01,409 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:01,409 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 6.24s
2025-11-03 13:44:01,410 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 9.85s
INFO:     ::1:59038 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:01,648 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:01,648 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:01,648 - src.conversation.flow_manager - INFO - Selected 10/18 messages for context
2025-11-03 13:44:03,263 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:03,266 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.62s
2025-11-03 13:44:03,266 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages with no clear action or request. No project management steps are necessary.",
  "steps": []
}
2025-11-03 13:44:03,266 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.62s
2025-11-03 13:44:03,266 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.62s
2025-11-03 13:44:03,266 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.62s
2025-11-03 13:44:03,266 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.62s
2025-11-03 13:44:03,266 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.62s
2025-11-03 13:44:03,266 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:04,443 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:04,446 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:04,446 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:04,446 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:04,446 - src.conversation.flow_manager - INFO - Selected 10/19 messages for context
2025-11-03 13:44:06,271 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:06,272 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.83s
2025-11-03 13:44:06,272 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The conversation consists of test messages without specific project management requests. No actionable steps can be derived.",
  "steps": []
}
2025-11-03 13:44:06,272 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.83s
2025-11-03 13:44:06,272 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:44:06,726 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:06,729 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:44:06,735 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:07,808 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:07,813 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:44:07,813 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:07,813 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:07,813 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:07,813 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:07,813 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.55s
2025-11-03 13:44:07,813 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.17s
INFO:     ::1:59047 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:08,038 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:08,038 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:08,039 - src.conversation.flow_manager - INFO - Selected 10/19 messages for context
2025-11-03 13:44:09,396 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:09,401 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.36s
2025-11-03 13:44:09,401 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user seems to be testing the system with various messages. No specific project management tasks are identified.",
  "steps": []
}
2025-11-03 13:44:09,401 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.36s
2025-11-03 13:44:09,401 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.36s
2025-11-03 13:44:09,401 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.36s
2025-11-03 13:44:09,401 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.36s
2025-11-03 13:44:09,401 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.36s
2025-11-03 13:44:09,401 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:11,396 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:11,410 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:11,411 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:11,411 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:11,412 - src.conversation.flow_manager - INFO - Selected 10/20 messages for context
2025-11-03 13:44:13,862 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:13,864 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.45s
2025-11-03 13:44:13,864 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I received a series of test messages from the user without specific requests. No actionable steps can be derived.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Messages",
      "description": "The test messages do not contain actionable project management tasks or requests.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:44:13,864 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.45s
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Test Messages - 0.00s
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:44:13,865 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Test Messages
2025-11-03 13:44:13,865 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:44:13,865 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.46s
2025-11-03 13:44:13,865 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.83s
INFO:     ::1:59051 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:14,102 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:14,102 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:14,102 - src.conversation.flow_manager - INFO - Selected 10/20 messages for context
2025-11-03 13:44:15,162 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:15,166 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.06s
2025-11-03 13:44:15,166 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This conversation primarily consists of test messages without actionable requests or tasks.",
  "steps": []
}
2025-11-03 13:44:15,166 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.06s
2025-11-03 13:44:15,166 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.06s
2025-11-03 13:44:15,166 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.06s
2025-11-03 13:44:15,166 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.06s
2025-11-03 13:44:15,166 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.06s
2025-11-03 13:44:15,167 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:16,794 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:16,810 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:16,810 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:16,810 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:16,811 - src.conversation.flow_manager - INFO - Selected 10/21 messages for context
2025-11-03 13:44:17,988 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:17,990 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.18s
2025-11-03 13:44:17,990 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "This is a test conversation with no actionable tasks or requests.",
  "steps": []
}
2025-11-03 13:44:17,990 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.18s
2025-11-03 13:44:17,990 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:44:19,068 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:19,072 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:44:19,077 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:19,884 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:19,889 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:44:19,889 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:19,889 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:19,889 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:19,889 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:19,889 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.72s
2025-11-03 13:44:19,890 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.79s
INFO:     ::1:59058 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:20,132 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:20,132 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:20,132 - src.conversation.flow_manager - INFO - Selected 10/21 messages for context
2025-11-03 13:44:21,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:21,550 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.42s
2025-11-03 13:44:21,550 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is sending a sequence of test messages without specific project management tasks.",
  "steps": []
}
2025-11-03 13:44:21,550 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.42s
2025-11-03 13:44:21,550 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.42s
2025-11-03 13:44:21,550 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.42s
2025-11-03 13:44:21,550 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.42s
2025-11-03 13:44:21,550 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.42s
2025-11-03 13:44:21,550 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:23,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:23,469 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:23,469 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:23,469 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:23,469 - src.conversation.flow_manager - INFO - Selected 10/22 messages for context
2025-11-03 13:44:26,042 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:26,047 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.58s
2025-11-03 13:44:26,047 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "There seems to be a series of test messages with no specific project management tasks. I will output a generic unsupported request.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Test Messages",
      "description": "The series of test messages do not correspond to any actionable project management tasks.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:44:26,047 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.58s
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Unsupported Request: Test Messages - 0.00s
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - Executing PM step: unknown
2025-11-03 13:44:26,048 - src.conversation.flow_manager - WARNING - Unsupported request: Unsupported Request: Test Messages
2025-11-03 13:44:26,048 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.00s - 0.00s total
2025-11-03 13:44:26,048 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.50s
2025-11-03 13:44:26,048 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.92s
INFO:     ::1:59060 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:26,269 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:26,269 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:26,269 - src.conversation.flow_manager - INFO - Selected 10/22 messages for context
2025-11-03 13:44:29,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:29,038 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.77s
2025-11-03 13:44:29,038 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is engaging in a test conversation with incomplete requests. No actionable tasks can be derived.",
  "steps": [
    {
      "step_type": "unknown",
      "title": "Unsupported Request: Testing Messages",
      "description": "The messages are test inputs without specific project management requests or tasks.",
      "requires_context": false
    }
  ]
}
2025-11-03 13:44:29,038 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.77s
2025-11-03 13:44:29,038 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.77s
2025-11-03 13:44:29,038 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.77s
2025-11-03 13:44:29,038 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.77s
2025-11-03 13:44:29,038 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.77s
2025-11-03 13:44:29,038 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:30,557 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:30,560 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:30,560 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:30,560 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:30,560 - src.conversation.flow_manager - INFO - Selected 10/23 messages for context
2025-11-03 13:44:32,327 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:32,337 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.78s
2025-11-03 13:44:32,337 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user is testing messages with sequential numbering. No actionable tasks have been identified.",
  "steps": []
}
2025-11-03 13:44:32,337 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.78s
2025-11-03 13:44:32,337 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:44:32,805 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:32,812 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:44:32,821 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:33,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:33,736 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:44:33,736 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:33,737 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:33,737 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:33,737 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:33,737 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.70s
2025-11-03 13:44:33,737 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.47s
INFO:     ::1:59063 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:33,972 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:33,973 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:33,973 - src.conversation.flow_manager - INFO - Selected 10/23 messages for context
2025-11-03 13:44:35,409 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:35,417 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.44s
2025-11-03 13:44:35,417 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages without specific requests. There are no actionable tasks or steps to process.",
  "steps": []
}
2025-11-03 13:44:35,417 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.44s
2025-11-03 13:44:35,417 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.44s
2025-11-03 13:44:35,417 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.44s
2025-11-03 13:44:35,417 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.44s
2025-11-03 13:44:35,417 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.44s
2025-11-03 13:44:35,417 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:37,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:37,161 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:37,161 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:37,161 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:37,161 - src.conversation.flow_manager - INFO - Selected 10/24 messages for context
2025-11-03 13:44:38,517 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:38,530 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.37s
2025-11-03 13:44:38,530 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "No actionable tasks were provided, therefore no steps can be generated.",
  "steps": []
}
2025-11-03 13:44:38,530 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.37s
2025-11-03 13:44:38,530 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:44:39,014 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:39,018 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:44:39,023 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:39,756 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:39,762 - src.conversation.flow_manager - WARNING - Could not find JSON in LLM response: ```json
null
```
2025-11-03 13:44:39,763 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:39,763 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:39,763 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:39,763 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:39,763 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.35s
2025-11-03 13:44:39,763 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 5.79s
INFO:     ::1:59068 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:44:40,001 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:44:40,001 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:40,001 - src.conversation.flow_manager - INFO - Selected 10/24 messages for context
2025-11-03 13:44:41,341 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:41,346 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.34s
2025-11-03 13:44:41,346 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user has sent a series of test messages, but there are no actionable tasks to analyze or create a plan for.",
  "steps": []
}
2025-11-03 13:44:41,346 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.35s
2025-11-03 13:44:41,346 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 1.35s
2025-11-03 13:44:41,347 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 1.35s
2025-11-03 13:44:41,347 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 1.35s
2025-11-03 13:44:41,347 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 1.35s
2025-11-03 13:44:41,347 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:44:43,451 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:43,455 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:43,456 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': None, 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:44:43,456 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:44:43,456 - src.conversation.flow_manager - INFO - Selected 10/25 messages for context
2025-11-03 13:44:44,840 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:44,843 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 1.39s
2025-11-03 13:44:44,843 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user seems to be testing the system with various messages. No specific actionable tasks identified.",
  "steps": []
}
2025-11-03 13:44:44,843 - src.conversation.flow_manager - INFO - Generated PM plan with 0 steps in 1.39s
2025-11-03 13:44:44,843 - src.conversation.flow_manager - INFO - Could not generate PM plan, falling back to intent-based classification
2025-11-03 13:44:45,339 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:45,351 - src.conversation.flow_manager - INFO - LLM classified intent: unknown
2025-11-03 13:44:45,355 - src.conversation.self_learning - ERROR - Failed to record classification: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-03 13:44:46,052 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:44:46,054 - src.conversation.flow_manager - INFO - Extracted data: {}
2025-11-03 13:44:46,055 - src.conversation.flow_manager - INFO - Has enough context. Intent: IntentType.UNKNOWN, needs_research: False
2025-11-03 13:44:46,055 - src.conversation.flow_manager - INFO - State set to: FlowState.EXECUTION_PHASE
2025-11-03 13:44:46,055 - src.conversation.flow_manager - INFO - Final current_state: FlowState.EXECUTION_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:44:46,055 - src.conversation.flow_manager - INFO - Executing actions for intent: IntentType.UNKNOWN
2025-11-03 13:44:46,055 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.71s
2025-11-03 13:44:46,055 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.05s
INFO:     ::1:59115 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:45:49,393 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:45:49,393 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:45:51,981 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:45:51,986 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.59s
2025-11-03 13:45:51,987 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will switch the active project context to Scrum project for focused work.",
  "steps": [
    {
      "step_type": "switch_project",
      "title": "Switch to Scrum Project",
      "description": "Set Scrum project as the active project for focused work",
      "requires_context": false
    }
  ]
}
2025-11-03 13:45:51,987 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.59s
2025-11-03 13:45:51,987 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 2.59s
2025-11-03 13:45:51,987 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 2.59s
2025-11-03 13:45:51,987 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 2.59s
2025-11-03 13:45:51,987 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 2.59s
2025-11-03 13:45:53,462 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:45:53,464 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:45:53,464 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:45:53,464 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:45:53,464 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:45:55,523 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:45:55,530 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.07s
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will switch the active project context to Scrum project so all subsequent commands apply to it.",
  "steps": [
    {
      "step_type": "switch_project",
      "title": "Switch to Scrum Project",
      "description": "Set Scrum project as the active project for focused work",
      "requires_context": false
    }
  ]
}
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.07s
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: Switch to Scrum Project - 0.00s
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - Executing PM step: switch_project
2025-11-03 13:45:55,531 - src.conversation.flow_manager - INFO - Handling SWITCH_PROJECT intent
2025-11-03 13:45:55,579 - src.conversation.flow_manager - INFO - Found project 'Scrum project' with ID: 2
2025-11-03 13:45:55,579 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.05s - 0.05s total
2025-11-03 13:45:55,579 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 3.59s
2025-11-03 13:45:55,580 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 6.19s
INFO:     ::1:59202 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:46:07,997 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:46:07,997 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:46:07,997 - src.conversation.flow_manager - INFO - Selected 1/1 messages for context
2025-11-03 13:46:11,474 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:11,484 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.49s
2025-11-03 13:46:11,484 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will switch to the Scrum project first, then retrieve and display all tasks assigned to you in this project.",
  "steps": [
    {
      "step_type": "switch_project",
      "title": "Switch to Scrum Project",
      "description": "Set Scrum project as the active project for focused work",
      "requires_context": false
    },
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks in Scrum Project",
      "description": "Retrieve and display all tasks assigned to me within the Scrum project",
      "requires_context": true
    }
  ]
}
2025-11-03 13:46:11,484 - src.conversation.flow_manager - INFO - Generated PM plan with 2 steps in 3.49s
2025-11-03 13:46:11,484 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.49s
2025-11-03 13:46:11,484 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.49s
2025-11-03 13:46:11,484 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.49s
2025-11-03 13:46:11,484 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.49s
2025-11-03 13:46:12,458 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:12,463 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:46:12,463 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:46:12,463 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:46:12,463 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:46:14,510 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.05s
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "The user wants to see their tasks again after the previous operation. I will list all their assigned tasks.",
  "steps": [
    {
      "step_type": "list_my_tasks",
      "title": "List My Assigned Tasks",
      "description": "Retrieve and display all tasks assigned to me across all projects",
      "requires_context": false
    }
  ]
}
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.05s
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: List My Assigned Tasks - 0.00s
2025-11-03 13:46:14,511 - src.conversation.flow_manager - INFO - Executing PM step: list_my_tasks
2025-11-03 13:46:15,780 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:15,782 - src.conversation.flow_manager - INFO - Extracted data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:46:15,782 - src.conversation.flow_manager - INFO - Extracted list_my_tasks data: {'filter_week': None, 'filter_date': None, 'period': None}
2025-11-03 13:46:15,782 - src.conversation.flow_manager - INFO - Handling LIST_MY_TASKS intent
2025-11-03 13:46:15,796 - src.conversation.flow_manager - INFO - Using current user from API key: OpenProject Admin (ID: 4)
2025-11-03 13:46:15,796 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"assignee": {"operator": "=", "values": ["4"]}}]'}
2025-11-03 13:46:15,940 - src.conversation.flow_manager - INFO - Calculated total hours: 0.0 from 20 tasks
2025-11-03 13:46:15,967 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 1.46s - 1.46s total
2025-11-03 13:46:15,967 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 4.48s
2025-11-03 13:46:15,968 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.97s
INFO:     ::1:59243 - "POST /api/pm/chat/stream HTTP/1.1" 200 OK
2025-11-03 13:46:21,558 - src.server.app - INFO - [PM-CHAT-TIMING] generate_stream started
2025-11-03 13:46:21,558 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:46:21,558 - src.conversation.flow_manager - INFO - Selected 2/2 messages for context
2025-11-03 13:46:25,300 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:25,304 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 3.75s
2025-11-03 13:46:25,304 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will switch to the Scrum project first, then retrieve and display all tasks for the current project.",
  "steps": [
    {
      "step_type": "switch_project",
      "title": "Switch to Scrum Project",
      "description": "Set Scrum project as the active project for focused work.",
      "requires_context": false
    },
    {
      "step_type": "list_tasks",
      "title": "List All Tasks for Current Project",
      "description": "Retrieve and display all tasks for the current active project (Scrum).",
      "requires_context": true
    }
  ]
}
2025-11-03 13:46:25,304 - src.conversation.flow_manager - INFO - Generated PM plan with 2 steps in 3.75s
2025-11-03 13:46:25,304 - src.server.app - INFO - [PM-CHAT-TIMING] PM plan generated: 3.75s
2025-11-03 13:46:25,304 - src.server.app - INFO - [PM-CHAT-TIMING] Needs research: False - 3.75s
2025-11-03 13:46:25,304 - src.server.app - INFO - [PM-CHAT-TIMING] process_task started: 3.75s
2025-11-03 13:46:25,304 - src.server.app - INFO - [PM-CHAT-TIMING] process_with_streaming started: 3.75s
2025-11-03 13:46:25,305 - src.conversation.flow_manager - INFO - Reset state to INTENT_DETECTION for new message (previous state was COMPLETED)
2025-11-03 13:46:26,622 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:26,624 - src.conversation.flow_manager - INFO - Extracted data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:46:26,625 - src.conversation.flow_manager - INFO - Extracted initial data: {'project_name': 'Scrum project', 'project_id': None, 'project_description': None, 'domain': None, 'breakdown_levels': 3, 'tasks': None}
2025-11-03 13:46:26,625 - src.conversation.flow_manager - INFO - [TIMING] generate_pm_plan started
2025-11-03 13:46:26,625 - src.conversation.flow_manager - INFO - Selected 3/3 messages for context
2025-11-03 13:46:28,620 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - [TIMING] LLM invoke completed: 2.01s
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - PM plan LLM response: {
  "locale": "en-US",
  "overall_thought": "I will retrieve and display all tasks for the current Scrum project.",
  "steps": [
    {
      "step_type": "list_tasks",
      "title": "List All Tasks for Current Project",
      "description": "Retrieve and display all tasks for the current Scrum project.",
      "requires_context": true
    }
  ]
}
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps in 2.01s
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - Generated PM plan with 1 steps
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - Final current_state: FlowState.PLANNING_PHASE, intent: IntentType.UNKNOWN
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - [TIMING] _handle_planning_phase started
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - [TIMING] Plan has 1 steps - 0.00s
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - [TIMING] Executing step 1/1: List All Tasks for Current Project - 0.00s
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - Executing PM step: list_tasks
2025-11-03 13:46:28,633 - src.conversation.flow_manager - INFO - Handling LIST_TASKS intent
2025-11-03 13:46:28,659 - src.conversation.flow_manager - INFO - Found project 'Scrum project' with ID: 2
2025-11-03 13:46:28,675 - src.pm_providers.openproject - INFO - OpenProject list_tasks with filters: {'filters': '[{"project": {"operator": "=", "values": ["2"]}}]'}
2025-11-03 13:46:28,808 - src.conversation.flow_manager - INFO - [TIMING] Step 1 completed in 0.18s - 0.18s total
2025-11-03 13:46:28,808 - src.server.app - INFO - [PM-CHAT-TIMING] process_message completed: 3.50s
2025-11-03 13:46:28,809 - src.server.app - INFO - [PM-CHAT-TIMING] Total response time: 7.25s
