<!DOCTYPE html>
<html>

<head>
    <title>Intent Detection Flow (Hybrid)</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>

<body style="background:#1a1a2e;padding:40px;">
    <h1 style="color:#fff;font-family:sans-serif;">Hybrid Intent Detection Flow</h1>
    <div class="mermaid">
        flowchart TD
        A["üó£Ô∏è User Message"] --> B{"üìã Coordinator"}

        B --> C{"üîç Step 1<br />Keyword Check"}

        C -->|"‚úÖ Match"| D["‚ö° react_agent"]
        C -->|"‚ùå No Match"| E{"ü§ñ Step 2<br />LLM Check"}

        E -->|"‚úÖ PM"| D
        E -->|"‚ùå Not PM"| F["üí¨ END"]

        D --> G["PM Tools"]
        G --> H["get_current_project<br />list_users<br />list_sprints"]

        F --> I["Generic Response"]

        style C fill:#4ecdc4,color:#000
        style E fill:#9b5de5,color:#fff
        style D fill:#95d5b2,color:#000
        style F fill:#ffd93d,color:#000
    </div>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'dark' });</script>

    <div style="color:#fff;font-family:sans-serif;margin-top:30px;">
        <h2>Legend</h2>
        <ul>
            <li><span style="background:#4ecdc4;padding:2px 8px;color:#000;">Teal</span> = Fast Keyword Check</li>
            <li><span style="background:#9b5de5;padding:2px 8px;color:#fff;">Purple</span> = LLM Fallback (multilingual)
            </li>
            <li><span style="background:#95d5b2;padding:2px 8px;color:#000;">Green</span> = PM Tools Available</li>
            <li><span style="background:#ffd93d;padding:2px 8px;color:#000;">Yellow</span> = Generic Response</li>
        </ul>
    </div>
</body>

</html>